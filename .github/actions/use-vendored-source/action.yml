name: Common Steps
description: Download and extract vendored source
runs:
  using: "composite"
  steps:
    - name: Get vendored source
      if: ${{ startsWith(github.ref, 'refs/tags/') }}
      uses: actions/download-artifact@v4.1.7
      with:
        name: vendored-sources
    - name: Unpack vendored source
      if: ${{ startsWith(github.ref, 'refs/tags/') }}
      run: tar --strip-components=1 -xzf ankaios-vendored-source*.tar.gz
      shell: bash
